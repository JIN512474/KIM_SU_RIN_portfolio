<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>KIM SU RIN — Portfolio</title>

  <!-- 1x1 파비콘 -->
  <link rel="icon" type="image/png"
    href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP4DwQACQEBt7q1Xc8AAAAASUVORK5CYII="/>

  <!-- Tailwind / React -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>

  <style>
    html,body,#root{min-height:100%}
    .hero-txt-shadow{text-shadow:0 6px 25px rgba(0,0,0,.35)}
  </style>

  <script>
    if(!location.hash){ location.hash = "#/home"; }
  </script>
</head>
<body class="bg-white text-black">
  <div id="root"></div>

  <script>
  (function(){
    const e = React.createElement;
    const {useState,useEffect} = React;

    const BRAND = {
      name:"KIM SU RIN",
      email:"rlatnfls125@naver.com",
      instagram:"https://www.instagram.com/rinrin_soo/"
    };
    const NAV = [
      { key:"work", label:"Work", route:"#/work", anchor:null },
      { key:"profile", label:"Profile", route:"#/home", anchor:"#profile" },
      { key:"about", label:"About", route:"#/home", anchor:"#about" },
      { key:"contact", label:"Contact", route:"#/home", anchor:"#contact" }
    ];
    const ALBUMS = Array.from({length:54}, (_,i)=>i+1);

    /* 라우팅 */
    function parseRoute(){
      const h=location.hash||"";
      let m;
      if((m=h.match(/^#\/p\/(\d+)\/(\d+)/))) return {name:"detail",album:+m[1],photo:+m[2]};
      if((m=h.match(/^#\/p\/(\d+)/))) return {name:"detail",album:+m[1],photo:1};
      if(h.startsWith("#/work")) return {name:"work"};
      return {name:"home"};
    }
    function useHashRoute(){
      const [r,setR]=useState(parseRoute());
      useEffect(()=>{
        const f=()=>setR(parseRoute());
        addEventListener("hashchange",f);
        return ()=>removeEventListener("hashchange",f);
      },[]);
      return r;
    }

    const clamp=(n,min,max)=>Math.max(min,Math.min(max,n));
    const shuffle=arr=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

    /* 반응형 체크 */
    function useIsMobile(){
      const [m,setM]=useState(window.matchMedia("(max-width: 767.98px)").matches);
      useEffect(()=>{
        const mm=window.matchMedia("(max-width: 767.98px)");
        const h=(ev)=>setM(ev.matches);
        mm.addEventListener("change",h);
        return ()=>mm.removeEventListener("change",h);
      },[]);
      return m;
    }

    /* ===== Hero Mosaic: 모바일 4 / PC 6 ===== */
    function HeroMosaic(){
      const isMobile=useIsMobile();
      const want=isMobile?4:6;
      const [tiles,setTiles]=useState(null);

      useEffect(()=>{
        let alive=true;
        (async()=>{
          const imgs=[];
          const albums=shuffle(ALBUMS.slice());
          let i=0;
          while(imgs.length<want && i<albums.length){
            const a=albums[i++];
            imgs.push({album:a,photo:1,src:`Photos/${a}/1.jpg`});
          }
          if(!alive) return;
          setTiles(imgs);
        })();
        return ()=>{alive=false};
      },[isMobile]);

      if(!tiles) return e('div',{className:'absolute inset-0 bg-neutral-200'});

      const gridClass='grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3 p-2 md:p-4';
      const aspectClass='aspect-[16/9]';

      return e('div',{className:`absolute inset-0 ${gridClass}`},
        tiles.map((t,i)=>e('button',{
          key:i,onClick:()=>{location.hash=`#/p/${t.album}/${t.photo}`;},
          className:'relative w-full overflow-hidden group rounded-md'
        },[
          e('div',{className:'w-full '+aspectClass},
            e('img',{src:t.src,alt:`Work ${t.album}-${t.photo}`,
              className:'w-full h-full object-cover transition-transform duration-500 group-hover:scale-[1.04]',
              loading:'lazy'})
          ),
          e('div',{className:'absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors'})
        ]))
      );
    }

    function TopNav({brand,items}){
      return e('header',{className:'sticky top-0 z-50 bg-white/80 backdrop-blur border-b'},
        e('div',{className:'max-w-6xl mx-auto px-6 h-14 flex items-center justify-between'},[
          e('button',{key:'brand',onClick:()=>{location.hash="#/home";},className:'font-bold tracking-tight hover:opacity-70'},brand.name),
          e('nav',{key:'nav',className:'flex items-center gap-6'},
            items.map(it=>e('button',{key:it.key,className:'hover:opacity-70',onClick:()=>location.hash=it.route},it.label))
            .concat([ e('a',{key:'i',className:'hover:opacity-70',href:brand.instagram,target:'_blank',rel:'noreferrer'},'Instagram') ])
          )
        ])
      );
    }

    /* ===== 메인 Hero ===== */
    function MainHero(){
      return e('section',{className:'relative h-[70vh] md:h-[80vh] flex items-center justify-center overflow-hidden'},[
        e(HeroMosaic,{key:'m'}),
        e('div',{className:'relative text-center px-6 hero-txt-shadow',key:'fg'},[
          e('h1',{className:'text-white drop-shadow text-4xl md:text-6xl font-extrabold tracking-tight'},BRAND.name),
          e('div',{className:'mt-3 text-base md:text-xl text-white/90'},'Beauty • Profile • Advertising')
        ])
      ]);
    }

    function MainPage(){
      return e('div',{className:'min-h-screen bg-white text-black'},[
        e(TopNav,{brand:BRAND,items:NAV}),
        e(MainHero)
      ]);
    }

    function AppShell(){
      const route=useHashRoute();
      return e('div',null,
        route.name==='home'
          ? e(MainPage)
          : e(MainPage) // 임시로 home과 동일 처리
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(e(AppShell));
  })();
  </script>
</body>
</html>
