<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>KIM SU RIN — Portfolio</title>

  <link rel="icon" type="image/png"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP4DwQACQEBt7q1Xc8AAAAASUVORK5CYII="/>

  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <link rel="preload" as="image" href="Profile/1.jpg" imagesizes="(max-width:768px) 100vw, 50vw"/>
  <link rel="preload" as="image" href="Profile/2.jpg" imagesizes="(max-width:768px) 100vw, 50vw"/>

  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>

  <style>
    html,body,#root{min-height:100%}
    .hero-txt-shadow{text-shadow:0 6px 25px rgba(0,0,0,.35)}
    .vg-item{position:absolute;will-change:transform;backface-visibility:hidden;contain:content;cursor:pointer}
    .scroll-smooth-touch{-webkit-overflow-scrolling:touch}
  </style>

  <script>
    if (!location.hash) location.hash = "#/home";
  </script>
</head>
<body class="bg-white text-black">
  <div id="root"></div>

  <script>
  (function(){
    const e = React.createElement;
    const {useState,useEffect,useRef,useMemo} = React;

    const BRAND = {
      name:"KIM SU RIN",
      email:"rlatnfls125@naver.com",
      instagram:"https://www.instagram.com/rinrin_soo/",
      location:"Seoul, KR"
    };
    const NAV = [
      { key:"work",    label:"Work",    route:"#/work", anchor:null },
      { key:"profile", label:"Profile", route:"#/home", anchor:"#profile" },
      { key:"about",   label:"About",   route:"#/home", anchor:"#about" },
      { key:"contact", label:"Contact", route:"#/home", anchor:"#contact" }
    ];
    const PHOTOS_ROOT   = "Photos";
    const PROFILE_ROOT  = "Profile";
    const PROFILE_TOTAL = 5;

    async function loadManifest(){
      try{
        const r = await fetch('works.json',{cache:'default'});
        const j = await r.json();
        if (Array.isArray(j.albums)) {
          const map = {};
          for (const it of j.albums) map[String(it.id)] = Number(it.count||0);
          return map;
        }
        return j;
      }catch(e){ console.error('works.json load failed', e); return {}; }
    }

    function parseRoute(){
      const h = location.hash || "";
      let m;
      if((m=h.match(/^#\/p\/(\d+)\/(\d+)/))) return {name:"detail",album:+m[1],photo:+m[2]};
      if((m=h.match(/^#\/p\/(\d+)/)))        return {name:"detail",album:+m[1],photo:1};
      if(h.startsWith("#/work"))             return {name:"work"};
      return {name:"home"};
    }
    function useHashRoute(){
      const [r,setR]=React.useState(parseRoute());
      useEffect(()=>{
        const f=()=>setR(parseRoute());
        addEventListener("hashchange",f,{passive:true});
        return ()=>removeEventListener("hashchange",f);
      },[]);
      return r;
    }
    function navigate(item){
      if(item.route) location.hash = item.route;
      if(item.anchor){
        setTimeout(()=>{
          const el=document.querySelector(item.anchor);
          if(el) el.scrollIntoView({behavior:"smooth",block:"start"});
        },50);
      }
    }
    const clamp=(n,min,max)=>Math.max(min,Math.min(max,n));
    const shuffle=arr=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

    function AutoImgBase(props){
      const extra = {
        loading: 'lazy', decoding: 'async', fetchpriority: 'auto',
        onError: (ev)=>{ ev.currentTarget.style.opacity = 0.25; }
      };
      if (!('width' in props))  props.width  = 800;
      if (!('height' in props)) props.height = 1420;
      if (!('sizes' in props))  props.sizes  = '(max-width:768px) 50vw, 20vw';
      return e('img', Object.assign({}, props, extra));
    }

    function InstaFAB({href}){
      return e('a',{href,target:'_blank',rel:'noreferrer',
        className:'fixed right-4 bottom-4 z-50 inline-flex items-center justify-center w-12 h-12 rounded-full bg-black text-white shadow-lg hover:opacity-90',
        title:'Instagram','aria-label':'Instagram'},
        e('svg',{width:22,height:22,viewBox:'0 0 24 24',fill:'currentColor'},
          e('path',{d:"M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm11 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"}))
      );
    }
    function DrawerTrigger({onClick}){
      return e('button',{onClick,onKeyDown:(ev)=>{if(ev.key==='Enter'||ev.key===' '){onClick&&onClick();}},
        className:'fixed left-3 top-3 z-50 md:hidden w-10 h-10 rounded-full bg-white/85 backdrop-blur border border-neutral-200 flex items-center justify-center',
        'aria-label':'Open menu'},
        e('div',{className:'space-y-1.5'},[
          e('span',{className:'block w-5 h-0.5 bg-black',key:1}),
          e('span',{className:'block w-5 h-0.5 bg-black',key:2}),
          e('span',{className:'block w-5 h-0.5 bg-black',key:3})
        ])
      );
    }
    function SideNav({open,onClose,brand,items}){
      if(!open){
        return e('div',{className:'hidden md:hidden', 'aria-hidden':true});
      }
      return e('div',{className:'fixed inset-0 z-50 md:hidden'},[
        e('div',{key:'ov',onClick:onClose,className:'absolute inset-0 bg-black/40'}),
        e('aside',{key:'as',className:'absolute left-0 top-0 bottom-0 w-64 bg-white shadow-lg'},[
          e('div',{className:'p-4 border-b',key:'hd'},
            e('button',{onClick:()=>{onClose&&onClose();location.hash="#/home";window.scrollTo({top:0,behavior:'smooth'});},
              className:'text-lg font-bold tracking-tight hover:opacity-70'},brand.name)
          ),
          e('nav',{className:'p-2 space-y-1',key:'nv'},
            items.map(it=>e('button',{key:it.key,onClick:()=>{onClose&&onClose();navigate(it);},
              className:'w-full text-left px-3 py-2 rounded-md text-black hover:bg-neutral-100'},it.label))
            .concat([ e('a',{key:'insta',href:brand.instagram,target:'_blank',rel:'noreferrer',
              className:'block px-3 py-2 text-left rounded-md hover:bg-neutral-100'},"Instagram ↗") ])
          )
        ])
      ]);
    }
    function TopNav({brand,items}){
      return e('header',{className:'hidden md:block sticky top-0 z-50 bg-white/80 backdrop-blur border-b'},
        e('div',{className:'max-w-6xl mx-auto px-6 h-14 flex items-center justify-between'},[
          e('button',{key:'brand',onClick:()=>{location.hash="#/home";window.scrollTo({top:0,behavior:'smooth'});},
            className:'font-bold tracking-tight hover:opacity-70'},brand.name),
          e('nav',{key:'nav',className:'flex items-center gap-6'},
            items.map(it=>e('button',{key:it.key,className:'hover:opacity-70',onClick:()=>navigate(it)},it.label))
            .concat([ e('a',{key:'i',className:'hover:opacity-70',href:brand.instagram,target:'_blank',rel:'noreferrer'},'Instagram') ])
          )
        ])
      );
    }

    function useIsMobile(){
      const [m,setM]=useState(window.matchMedia("(max-width: 767.98px)").matches);
      useEffect(()=>{
        const mm=window.matchMedia("(max-width: 767.98px)");
        const h=(ev)=>setM(ev.matches);
        mm.addEventListener("change",h);
        return ()=>mm.removeEventListener("change",h);
      },[]);
      return m;
    }

    function HeroMosaic({manifest}){
      const isMobile = useIsMobile();
      const want = isMobile ? 4 : 6;
      const [tiles,setTiles] = useState(null);

      useEffect(()=>{
        let alive=true;
        (async()=>{
          const entries = Object.entries(manifest)
            .map(([k,v])=>({album:Number(k),count:Number(v)}))
            .filter(x=>x.count>0);
          const pool = (arr=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]))(entries);
          const imgs=[];
          let i=0;
          while(imgs.length<want && i<pool.length){
            const {album,count} = pool[i++];
            const p = 1 + Math.floor(Math.random()*count);
            imgs.push({album,photo:p,src:`${PHOTOS_ROOT}/${album}/${p}.jpg`});
          }
          if(!alive) return;
          setTiles(imgs);
        })();
        return ()=>{alive=false};
      },[isMobile,manifest]);

      if(!tiles) return e('div',{className:'absolute inset-0 bg-neutral-200'});

      const gridClass   = 'grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3 p-2 md:p-4';
      const aspectClass = 'aspect-[16/9]';

      return e('div',{className:`absolute inset-0 ${gridClass}`},
        tiles.map((t,i)=>e('button',{
          key:i, onClick:()=>{ location.hash=`#/p/${t.album}/${t.photo}`; },
          className:'relative w-full overflow-hidden group rounded-md'
        },[
          e('div',{className:'w-full '+aspectClass},
            e(AutoImgBase,{
              src:t.src, alt:`Work ${t.album}-${t.photo}`,
              className:'w-full h-full object-cover transition-transform duration-500 md:group-hover:scale-[1.04]'
            })
          ),
          e('div',{className:'absolute inset-0 bg-black/0 md:group-hover:bg-black/10 transition-colors'})
        ]))
      );
    }

    function MainHero({manifest}){
      return e('section',{className:'relative h-[60vh] md:h-[70vh] flex items-center justify-center overflow-hidden'},[
        e(HeroMosaic,{key:'m',manifest}),
        /* 모바일은 살짝 밝게(기존 35% → 25%), PC는 그대로 */
        e('div',{className:'absolute inset-0 bg-black/25 md:bg-black/15 pointer-events-none'}),
        e('div',{className:'relative text-center px-6 hero-txt-shadow',key:'fg'},[
          e('h1',{className:'text-white drop-shadow text-4xl md:text-6xl font-extrabold tracking-tight'},BRAND.name),
          e('div',{className:'mt-3 text-base md:text-xl text-white/90'},'Beauty • Profile • Advertising')
        ])
      ]);
    }

    function MainAbout(){
      const stats=[{k:'Height',v:'170cm'},{k:'Bust',v:'34in'},{k:'Waist',v:'26in'},{k:'Hips',v:'35in'},{k:'Shoes',v:'250mm'}];
      return e('section',{id:'about',className:'max-w-6xl mx-auto px-6 py-12 md:py-16'},[
        e('h2',{className:'text-2xl md:text-3xl font-bold'},"About"),
        e('div',{className:'mt-6 grid grid-cols-2 md:grid-cols-5 gap-4'},
          stats.map((s,i)=>e('div',{key:i,className:'border rounded-lg px-3 py-3 text-sm'},[
            e('div',{className:'text-neutral-500'},s.k),
            e('div',{className:'font-semibold'},s.v)
          ]))
        )
      ]);
    }
    function ProfileImg({ index, className, alt, priority=false }) {
      const primary = `${PROFILE_ROOT}/${index}.jpg`;
      const fallback = [
        `${PROFILE_ROOT}/${index}.JPG`,
        `${PROFILE_ROOT}/${index}.jpeg`,
        `${PROFILE_ROOT}/${index}.JPEG`,
        `${PROFILE_ROOT}/${index} .jpg`,
      ];
      let i = 0;
      const onErr = (img) => { if (i >= fallback.length) { img.style.opacity = 0.25; return; } img.src = fallback[i++]; };
      return e('img',{ src: primary, alt: alt || `Profile ${index}`,
        className: (className||'') + ' object-cover',
        loading: priority ? 'eager' : 'lazy', fetchpriority: priority ? 'high' : 'auto', decoding: 'async',
        width: 900, height: 1200, sizes: '(max-width:768px) 100vw, 50vw', onError: (ev)=>onErr(ev.currentTarget) });
    }
    function ProfileCarousel(){
      const [idx,setIdx]=useState(1);
      const prev = ()=> setIdx(i=>clamp(i-1,1,PROFILE_TOTAL));
      const next = ()=> setIdx(i=>clamp(i+1,1,PROFILE_TOTAL));
      useEffect(()=>{ const pre=(n)=>{ if(n<1||n>PROFILE_TOTAL) return; const img=new Image(); img.decoding='async'; img.loading='eager'; img.src=`${PROFILE_ROOT}/${n}.jpg`; }; pre(idx+1); pre(idx-1); },[idx]);
      return e('div',{className:'relative'},[
        e('div',{className:'aspect-[3/4] bg-neutral-100 overflow-hidden rounded-lg'},
          e(ProfileImg,{ index:idx, alt:`Profile ${idx}`, className:'w-full h-full', priority:true })
        ),
        e('div',{className:'mt-3 flex items-center justify-center gap-3'},[
          e('button',{onClick:prev,disabled:idx<=1,className:'px-3 py-1.5 border rounded-md hover:bg-neutral-50 disabled:opacity-40'},'Prev'),
          e('div',{className:'text-sm text-neutral-600'},`${idx} / ${PROFILE_TOTAL}`),
          e('button',{onClick:next,disabled:idx>=PROFILE_TOTAL,className:'px-3 py-1.5 border rounded-md hover:bg-neutral-50 disabled:opacity-40'},'Next')
        ])
      ]);
    }
    function MainProfile(){
      return e('section',{id:'profile',className:'max-w-6xl mx-auto px-6 py-12 md:py-16 grid md:grid-cols-2 gap-8 items-center'},[
        e(ProfileCarousel,{key:'carousel'}),
        e('div',{key:'txt'},[
          e('h3',{className:'text-xl font-bold mb-2'},'Profile'),
          e('div',{className:'text-2xl md:text-3xl font-extrabold tracking-tight mb-3'},BRAND.name),
          e('ul',{className:'space-y-1 text-sm text-neutral-600'},[
            e('li',null,['Height: ',e('span',{className:'text-black'},'170cm')]),
            e('li',null,['Bust: ',e('span',{className:'text-black'},'34in')]),
            e('li',null,['Waist: ',e('span',{className:'text-black'},'26in')]),
            e('li',null,['Hips: ',e('span',{className:'text-black'},'35in')]),
            e('li',null,['Shoes: ',e('span',{className:'text-black'},'250mm')])
          ])
        ])
      ]);
    }
    function MainContact(){
      return e('section',{id:'contact',className:'max-w-6xl mx-auto px-6 py-12 md:py-16'},[
        e('h3',{className:'text-xl font-bold mb-2'},'Contact'),
        e('div',{className:'text-neutral-700 mb-3'},['Email: ', e('a',{className:'underline',href:`mailto:${BRAND.email}`},BRAND.email)]),
        e('div',null,
          e('a',{href:BRAND.instagram,target:'_blank',rel:'noreferrer',className:'inline-flex items-center gap-2 px-4 py-2 border rounded-md hover:bg-neutral-50'},
            e('svg',{width:18,height:18,viewBox:'0 0 24 24',fill:'currentColor'},e('path',{d:"M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zM18 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"})),
            'Instagram'
          )
        )
      ]);
    }
    function Footer(){ return e('footer',{className:'border-t py-8 text-center text-sm text-neutral-500'},`© ${new Date().getFullYear()} ${BRAND.name}. All rights reserved.`); }

    function useRafScrollY(){
      const [y,setY]=useState(window.scrollY||window.pageYOffset||0);
      const rafRef = useRef(0);
      useEffect(()=>{
        const onScroll = ()=>{
          if(rafRef.current) return;
          rafRef.current = requestAnimationFrame(()=>{
            rafRef.current = 0;
            setY(window.scrollY||window.pageYOffset||0);
          });
        };
        addEventListener('scroll', onScroll, {passive:true});
        addEventListener('wheel', onScroll, {passive:true});
        return ()=>{
          removeEventListener('scroll', onScroll);
          removeEventListener('wheel', onScroll);
          if(rafRef.current) cancelAnimationFrame(rafRef.current);
        };
      },[]);
      return y;
    }

    function VirtualGrid({ items, onItemClick, captionHeight=34, gap=16 }){
      const wrapRef = useRef(null);
      const [metrics,setMetrics]=useState({w:0, x:0, top:0, cols:2});
      useRafScrollY();

      useEffect(()=>{
        const measure = ()=>{
          const el = wrapRef.current;
          if(!el) return;
          const rect = el.getBoundingClientRect();
          const w = rect.width;
          const pageTop = rect.top + (window.scrollY||window.pageYOffset||0);
          const vw = window.innerWidth;
          const cols = vw < 640 ? 2 : (vw < 768 ? 3 : (vw < 1024 ? 4 : 5));
          setMetrics({w, x: rect.left, top: pageTop, cols});
        };
        measure();
        const ro = new ResizeObserver(measure);
        if(wrapRef.current) ro.observe(wrapRef.current);
        addEventListener('resize', measure);
        return ()=>{ ro.disconnect(); removeEventListener('resize',measure); };
      },[]);

      const {w, top, cols} = metrics;
      const colCount = Math.max(1, cols);
      const cellW = (w - gap*(colCount-1)) / colCount;
      const imgH  = cellW * (16/9);
      const cellH = imgH + captionHeight;
      const totalRows = Math.ceil(items.length / colCount);
      const totalH = Math.max(0, totalRows*cellH + (totalRows-1)*gap);

      useEffect(()=>{
        const el = wrapRef.current;
        if(!el) return;
        const onClick = (ev)=>{
          let node = ev.target;
          while(node && node !== el){
            if(node.dataset && node.dataset.album){
              const aid = Number(node.dataset.album);
              if(onItemClick) onItemClick(aid);
              return;
            }
            node = node.parentElement;
          }
        };
        el.addEventListener('click', onClick);
        return ()=>el.removeEventListener('click', onClick);
      },[onItemClick]);

      const children = [];
      for(let idx=0; idx<items.length; idx++){
        const r = Math.floor(idx / colCount);
        const c = idx % colCount;
        const albumId = items[idx];
        const x = c*(cellW + gap);
        const y = r*(cellH + gap);
        children.push(
          e('figure',{
            key:albumId,
            className:'vg-item overflow-hidden group',
            style:{transform:`translate3d(${x}px,${y}px,0px)`, width:cellW+'px', height:cellH+'px'},
            'data-album': String(albumId), tabIndex:0, role:'button', 'aria-label':`Open album ${albumId}`
          },[
            e('div',{'data-album':String(albumId), className:'w-full', style:{width:'100%', height:imgH+'px', background:'#eee'}},
              e(AutoImgBase,{
                'data-album': String(albumId),
                src:`${PHOTOS_ROOT}/${albumId}/1.jpg`,
                alt:`Album ${albumId}`,
                className:'w-full h-full object-cover md:group-hover:scale-[1.03] transition-transform duration-500'
              })
            ),
            e('figcaption',{'data-album':String(albumId), className:'px-1.5 py-2 text-sm text-neutral-600'},`Album ${albumId}`)
          ])
        );
      }

      return e('div',{ref:wrapRef, className:'relative', style:{height: totalH+'px'}}, children);
    }

    function WorkGallery({manifest}){
      const albums = useMemo(()=>Object.entries(manifest)
        .map(([k,v])=>({id:Number(k),count:Number(v)}))
        .filter(x=>x.count>0)
        .sort((a,b)=>a.id-b.id)
        .map(x=>x.id)
      ,[manifest]);

      return e('section',{id:'work',className:'px-3 md:px-8 py-8 md:py-12 scroll-smooth-touch'},[
        e('div',{className:'mb-6 flex items-baseline justify-between'},[
          e('h2',{className:'text-2xl md:text-4xl font-bold'},'Photography'),
          e('span',{className:'text-xs text-neutral-500'},'Virtualized grid (Click restored)')
        ]),
        e(VirtualGrid,{items:albums, onItemClick:(al)=>{ location.hash=`#/p/${al}/1`; }})
      ]);
    }

    function PageDetail({album,photo,manifest}){
      const count = Number(manifest[String(album)] || 0);
      const has = (count>0);
      const [pp,setPP]=useState(clamp(photo||1,1,Math.max(1,count)));

      useEffect(()=>{ setPP(clamp(photo||1,1,Math.max(1,count))); },[album,photo,count]);
      useEffect(()=>{ const pre=(n)=>{ if(n<1||n>count) return; const img=new Image(); img.decoding='async'; img.loading='eager'; img.src=`${PHOTOS_ROOT}/${album}/${n}.jpg`; }; pre(pp+1); pre(pp-1); },[pp,album,count]);

      if(!has){
        return e('div',{className:'min-h-screen bg-white text-black'},[
          e(TopNav,{brand:BRAND,items:NAV}),
          e('div',{className:'max-w-3xl mx-auto p-8 text-center'},[
            e('p',{className:'text-lg'},"이 앨범에 표시할 이미지가 없습니다."),
            e('div',{className:'mt-4'}, e('a',{href:'#/work',className:'underline'},"← Work로 돌아가기"))
          ]),
          e(Footer)
        ]);
      }

      const prevPhoto=()=>{ const n=clamp(pp-1,1,count); location.hash=`#/p/${album}/${n}`; };
      const nextPhoto=()=>{ const n=clamp(pp+1,1,count); location.hash=`#/p/${album}/${n}`; };
      const prevAlbum=()=>location.hash=`#/p/${Math.max(1,album-1)}/1`;
      const nextAlbum=()=>location.hash=`#/p/${album+1}/1`;

      return e('div',{className:'min-h-screen bg-white text-black'},[
        e('div',{className:'max-w-6xl mx-auto px-4 pt-4 pb-2 flex flex-wrap items-center justify-between gap-3'},[
          e('div',{className:'text-sm text-neutral-600'},[
            'Album ', e('span',{className:'font-medium'}, String(album)), ' · Photo ',
            e('span',{className:'font-medium'}, String(pp)), ' / ', e('span',{className:'font-medium'}, String(count))
          ]),
          e('div',{className:'flex items-center gap-2'},[
            e('button',{onClick:prevAlbum,disabled:album<=1,className:'px-3 py-2 border rounded-md hover:bg-neutral-50 disabled:opacity-40',title:'Prev Album'},'← Prev Album'),
            e('button',{onClick:nextAlbum,className:'px-3 py-2 border rounded-md hover:bg-neutral-50',title:'Next Album →'},'Next Album →')
          ])
        ]),
        e('div',{className:'relative w-full min-h-[calc(100vh-13rem)] flex items-center justify-center bg-neutral-50'},[
          e(AutoImgBase,{src:`${PHOTOS_ROOT}/${album}/${pp}.jpg`,alt:`Album ${album} - Photo ${pp}`,
            className:'max-w-full max-h-[82vh] object-contain bg-white', sizes:'(max-width:768px) 100vw, 70vw', width:1600, height:2560 })
        ]),
        e('div',{className:'px-4 pt-4 pb-10 max-w-4xl mx-auto flex flex-col items-center gap-3'},[
          e('div',{className:'flex items-center justify-between w-full gap-2'},[
            e('button',{onClick:prevPhoto,disabled:pp<=1,className:'px-4 py-2 border rounded-md hover:bg-neutral-50 disabled:opacity-40'},'← Prev Photo'),
            e('button',{onClick:nextPhoto,disabled:pp>=count,className:'px-4 py-2 border rounded-md hover:bg-neutral-50 disabled:opacity-40'},'Next Photo →')
          ]),
          e('button',{onClick:nextPhoto,disabled:pp>=count,
            className:'mt-2 w-full md:w-2/3 lg:w-1/2 h-14 border-2 rounded-lg text-lg font-semibold hover:bg-neutral-50 disabled:opacity-40'},
            pp>=count ? '마지막 사진입니다' : '다음 사진 보기')
        ])
      ]);
    }

    function WorkPage({manifest}){
      return e('div',{className:'min-h-screen bg-white text-black'},[
        e(TopNav,{brand:BRAND,items:NAV}),
        e(WorkGallery,{manifest}),
        e(Footer)
      ]);
    }
    function MainHeroWrapper({manifest}){
      return e('div',{className:'min-h-screen bg-white text-black'},[
        e(TopNav,{brand:BRAND,items:NAV}),
        e(MainHero,{manifest}), e(MainAbout), e(MainProfile), e(MainContact), e(Footer)
      ]);
    }

    function AppShell(){
      const [menuOpen,setMenuOpen]=useState(false);
      const [manifest,setManifest]=useState(null);
      const route=useHashRoute();

      useEffect(()=>{ (async()=> setManifest(await loadManifest()))(); },[]);
      if(!manifest){ return e('div',{className:'min-h-screen flex items-center justify-center text-neutral-600'},'Loading…'); }

      return e('div',null,[
        !menuOpen && e(DrawerTrigger,{onClick:()=>setMenuOpen(true)}),
        e(InstaFAB,{href:BRAND.instagram}),
        e(SideNav,{open:menuOpen,onClose:()=>setMenuOpen(false),brand:BRAND,items:NAV}),
        (route.name==='work'
          ? e(WorkPage,{manifest})
          : route.name==='detail'
            ? e('div',null,[ e(TopNav,{brand:BRAND,items:NAV}), e(PageDetail,{album:route.album||1,photo:route.photo||1,manifest}), e(Footer) ])
            : e(MainHeroWrapper,{manifest})
        )
      ]);
    }

    ReactDOM.createRoot(document.getElementById('root')).render(e(AppShell));
  })();
  </script>
</body>
</html>
